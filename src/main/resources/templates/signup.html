<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<title>Content++</title>
	<link rel="stylesheet" th:href="@{/webjars/font-awesome/css/all.css}" />
	<link th:rel="stylesheet" th:href="@{/css/main.css}" />
	<link th:rel="stylesheet" th:href="@{/css/app.css}" />
</head>

<body class=" border-top-wide border-primary d-flex flex-column">

	<div class="page page-center">
		<div class="container container-tight py-4">

			<div class="card card-md">
				<div class="card-body">
					<h2 class="text-center">
						<img src="/img/brand.png" height="80" alt=""><br /><a href="/" th:href="@{/}"
							class="navbar-brand" th:text="${appname}"></a>
					</h2>
					<h2 th:if="${creatinguser}" class="card-title text-center mb-2">Create new account</h2>
					<h2 th:if="${editinguser}" class="card-title text-center mb-2">Edit Account</h2>
					<div th:if="${param.success}">
						<div class="alert alert-info">Registered successful for Content++</div>
					</div>
					<form class="auth-form auth-signup-form" th:action="@{/signup}" th:object="${user}" method="post">

						<input th:type="hidden" id="id" name="id" th:field="${user.id}" />

						<div class="mt-2 mb-2">
							<label class="form-label" for="signup-userfirstname">FirstName</label>
							<input type="text" class="form-control" placeholder="Your First Name"
								aria-label="userfirstname" name="userfirstname" th:field="${user.userfirstname}" />
							<p class="errorclass" th:errors="*{userfirstname}"
								th:if="${#fields.hasErrors('userfirstname')}">
						</div>
						<div class="mt-2 mb-2">
							<label class="form-label" for="signup-userlastname">LastName</label>
							<input type="text" class="form-control" placeholder="Your Last Name"
								aria-label="userlastname" name="userlastname" th:field="${user.userlastname}" />
							<p class="errorclass" th:errors="*{userlastname}"
								th:if="${#fields.hasErrors('userlastname')}">
						</div>
						<div class="mt-2 mb-2" th:if="${#strings.isEmpty(editinguser)}">
							<label class="form-label" for="signup-userlastname">Email</label>
							<input id="signup-email" name="signup-email" type="email" class="form-control signup-email"
								placeholder="Your Email-Id" th:field="${user.useremail}" />
							<p class="errorclass" th:errors="*{useremail}" th:if="${#fields.hasErrors('useremail')}">
							</p>
						</div>
						<div class="mt-2 mb-2" th:if="${#strings.isEmpty(editinguser)}">
							<label class="form-label" for="signup-userlastname">Password</label>
							<input id="signup-password" name="signup-password" type="password"
								class="form-control signup-password" th:field="${user.userpassword}"
								placeholder="Password" />
							<p class="errorclass" th:if="${#fields.hasErrors('userpassword')}"
								th:errors="*{userpassword}" />
						</div>

						<div class="mt-2 mb-2" th:if="${#strings.isEmpty(editinguser)}">
						<label class="form-label" for="signup-userlastname">ConfirmPassword</label>
							<input id="signup-passwordcnfrm" name="signup-passwordcnfrm" type="password"
								class="form-control signup-password" th:field="${user.passwordConfirm}"
								placeholder="Repeat/Confirm Password" />
							<p class="errorclass" th:if="${#fields.hasErrors('passwordConfirm')}"
								th:errors="*{passwordConfirm}" />
						</div>
						<!--div class="mt-2 mb-2"> 
							<label class="form-label" for="signup-userdepartments">Select Department(s)</label>
							<th:block th:each="department: ${departments}">
								<input type="checkbox" th:field="${user.departments}" th:value="${department.id}"
									th:text="${department.departmentname}" class="me-1 ms-3" />
							</th:block>
							<p class="errorclass" th:if="${#fields.hasErrors('departments')}"
								th:errors="*{departments}" />
						</div>
						<div class="mt-2 mb-3">
							<label class="form-label" for="userroles">Select Role(s)</label>
							<th:block th:each="role: ${roles}">
								<input type="checkbox" th:field="${user.roles}" th:value="${role.id}"
									th:text="${role.name}" class="me-1 ms-3" />
							</th:block>
							<p class="errorclass" th:if="${#fields.hasErrors('roles')}" th:errors="*{roles}" />
						</div
						<div class="mt-2 mb-3">
							<label class="form-label" for="signup-userroles">Select Department(s)</label>
							<select class="form-select form-select-sm" id="userdepartments"
								th:field="${user.departments}" multiple>
								<option value="" selected>-- Select Department --</option>
								<option th:each="department : ${departments}" th:value="${department.id}"
									th:text="${department.departmentname}">Department
								</option>
							</select>
							<p class="errorclass" th:if="${#fields.hasErrors('departments')}"
								th:errors="*{departments}" />
						</div>
						<div class="mt-2 mb-3">
							<label class="form-label" for="signup-userroles">Select Role(s)</label>
							<select class="form-select form-select-sm" id="userroles" th:field="${user.roles}" multiple>
								<option value="" selected>-- Select Role --</option>
								<option th:each="role : ${roles}" th:value="${role.id}" th:text="${role.name}">Role
								</option>
							</select>
							<p class="errorclass" th:if="${#fields.hasErrors('roles')}" th:errors="*{roles}" />
						</div>-->

						<div class="mb-1">
							<label class="form-check">
								<input type="checkbox" class="form-check-input" />
								<span class="form-check-label">Agree the <a href="./terms-of-service.html"
										tabindex="-1">terms and policy</a>.</span>
							</label>
						</div>
						<div class="form-footer">
							<button type="submit" class="btn btn-primary w-100">Create new account</button>
						</div>
				</form>
				</div>
				<div class="text-center text-muted mt-2">
					Already have account? <a href="/login" th:href="@{/login}" tabindex="-1">Sign in</a>
				</div>
				<div class="text-center text-muted mt-2">
					Not ready yet? Explore More - <a href="/home" th:href="@{/home}" tabindex="-1">Home</a>
				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript" th:src="@{/webjars/font-awesome/js/all.js}"></script>
	<script type="text/javascript" th:src="@{/webjars/htmx.org/dist/htmx.min.js}"></script>
	<script type="text/javascript" th:src="@{/js/main.js}" defer></script>
	<script type="text/javascript" th:src="@{/js/login.js}" defer></script>
	<script>
		function showPassword() {
			var x = document.getElementById("password");
			if (x.type === "password") {
				x.type = "text";
			} else {
				x.type = "password";
			}
		}
	</script>
</body>

</html>